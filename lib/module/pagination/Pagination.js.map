{"version":3,"names":["React","PureComponent","I18nManager","Platform","View","PaginationDot","styles","IS_IOS","OS","IS_RTL","isRTL","Pagination","constructor","props","dotColor","inactiveDotColor","console","warn","dotElement","inactiveDotElement","tappableDots","carouselRef","undefined","_needsRTLAdaptations","vertical","_activeDotIndex","activeDotIndex","dotsLength","dots","activeOpacity","dotContainerStyle","dotStyle","inactiveDotOpacity","inactiveDotScale","inactiveDotStyle","renderDots","animatedDuration","animatedFriction","animatedTension","delayPressInDot","DefaultDot","Array","from","length","_","i","map","isActive","cloneElement","key","active","index","render","containerStyle","accessibilityLabel","style","sliderPagination","flexDirection"],"sources":["Pagination.tsx"],"sourcesContent":["import React, { PureComponent, ReactElement } from 'react';\nimport {\n    I18nManager,\n    Platform,\n    View,\n    StyleProp,\n    ViewStyle\n} from 'react-native';\nimport PaginationDot from './PaginationDot';\nimport styles from './Pagination.style';\nimport type Carousel from 'src/carousel/Carousel';\n\nconst IS_IOS = Platform.OS === 'ios';\nconst IS_RTL = I18nManager.isRTL;\n\ntype PaginationProps<TData> = {\n  activeDotIndex: number;\n  dotsLength: number;\n  activeOpacity?: number;\n  carouselRef?: Carousel<TData> | null;\n  containerStyle?: StyleProp<ViewStyle>;\n  dotColor?: string;\n  dotContainerStyle?: StyleProp<ViewStyle>;\n  dotElement?: ReactElement;\n  dotStyle?: StyleProp<ViewStyle>;\n  inactiveDotColor?: string;\n  inactiveDotElement?: ReactElement;\n  inactiveDotOpacity: number;\n  inactiveDotScale: number;\n  inactiveDotStyle?: StyleProp<ViewStyle>;\n  renderDots?: (\n    activeIndex: number,\n    length: number,\n    context: Pagination<TData>\n  ) => ReactElement;\n  tappableDots: boolean;\n  vertical: boolean;\n  accessibilityLabel?: string;\n  animatedDuration: number;\n  animatedFriction: number;\n  animatedTension: number;\n  delayPressInDot: number;\n};\n\nexport default class Pagination<TData> extends PureComponent<PaginationProps<TData>> {\n  static defaultProps = {\n      inactiveDotOpacity: 0.5,\n      inactiveDotScale: 0.5,\n      tappableDots: false,\n      vertical: false,\n      animatedDuration: 250,\n      animatedFriction: 4,\n      animatedTension: 50,\n      delayPressInDot: 0\n  };\n\n  constructor (props: PaginationProps<TData>) {\n      super(props);\n\n      // Warnings\n      if (\n          (props.dotColor && !props.inactiveDotColor) ||\n      (!props.dotColor && props.inactiveDotColor)\n      ) {\n          console.warn(\n              'rb-snap-carousel | Pagination: ' +\n          'You need to specify both `dotColor` and `inactiveDotColor`'\n          );\n      }\n      if (\n          (props.dotElement && !props.inactiveDotElement) ||\n      (!props.dotElement && props.inactiveDotElement)\n      ) {\n          console.warn(\n              'rb-snap-carousel | Pagination: ' +\n          'You need to specify both `dotElement` and `inactiveDotElement`'\n          );\n      }\n      if (props.tappableDots && props.carouselRef === undefined) {\n          console.warn(\n              'rb-snap-carousel | Pagination: ' +\n          'You must specify prop `carouselRef` when setting `tappableDots` to `true`'\n          );\n      }\n  }\n\n  _needsRTLAdaptations () {\n      const { vertical } = this.props;\n      return IS_RTL && !IS_IOS && !vertical;\n  }\n\n  get _activeDotIndex () {\n      const { activeDotIndex, dotsLength } = this.props;\n      return this._needsRTLAdaptations() ?\n          dotsLength - activeDotIndex - 1 :\n          activeDotIndex;\n  }\n\n  get dots () {\n      const {\n          activeOpacity,\n          carouselRef,\n          dotsLength,\n          dotColor,\n          dotContainerStyle,\n          dotElement,\n          dotStyle,\n          inactiveDotColor,\n          inactiveDotElement,\n          inactiveDotOpacity,\n          inactiveDotScale,\n          inactiveDotStyle,\n          renderDots,\n          tappableDots,\n          animatedDuration,\n          animatedFriction,\n          animatedTension,\n          delayPressInDot\n      } = this.props;\n\n      if (renderDots) {\n          return renderDots(this._activeDotIndex, dotsLength, this);\n      }\n\n      const DefaultDot = (\n          <PaginationDot\n            carouselRef={carouselRef}\n            tappable={tappableDots && typeof carouselRef !== 'undefined'}\n            activeOpacity={activeOpacity}\n            color={dotColor}\n            containerStyle={dotContainerStyle}\n            style={dotStyle}\n            inactiveColor={inactiveDotColor}\n            inactiveOpacity={inactiveDotOpacity}\n            inactiveScale={inactiveDotScale}\n            inactiveStyle={inactiveDotStyle}\n            animatedDuration={animatedDuration}\n            animatedFriction={animatedFriction}\n            animatedTension={animatedTension}\n            delayPressInDot={delayPressInDot}\n          />\n      );\n\n      const dots = Array.from({ length: dotsLength }, (_, i) => i).map((i) => {\n          const isActive = i === this._activeDotIndex;\n          return React.cloneElement(\n              (isActive ? dotElement : inactiveDotElement) || DefaultDot,\n              {\n                  key: `pagination-dot-${i}`,\n                  active: isActive,\n                  index: i\n              }\n          );\n      });\n\n      return dots;\n  }\n\n  render () {\n      const {\n          dotsLength,\n          containerStyle,\n          vertical,\n          accessibilityLabel\n      } = this.props;\n\n      if (!dotsLength || dotsLength < 2) {\n          return false;\n      }\n\n      const style = [\n          styles.sliderPagination,\n          {\n              flexDirection: vertical ?\n                  ('column' as const) :\n                  this._needsRTLAdaptations() ?\n                      ('row-reverse' as const) :\n                      ('row' as const)\n          },\n          containerStyle || {}\n      ];\n\n      return (\n          <View\n            pointerEvents='box-none'\n            style={style}\n            accessible={!!accessibilityLabel}\n            accessibilityLabel={accessibilityLabel}\n          >\n              {this.dots}\n          </View>\n      );\n  }\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAmD,OAAnD;AACA,SACIC,WADJ,EAEIC,QAFJ,EAGIC,IAHJ,QAMO,cANP;AAOA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAGA,MAAMC,MAAM,GAAGJ,QAAQ,CAACK,EAAT,KAAgB,KAA/B;AACA,MAAMC,MAAM,GAAGP,WAAW,CAACQ,KAA3B;AA+BA,eAAe,MAAMC,UAAN,SAAgCV,aAAhC,CAAsE;EAYnFW,WAAW,CAAEC,KAAF,EAAiC;IACxC,MAAMA,KAAN,EADwC,CAGxC;;IACA,IACKA,KAAK,CAACC,QAAN,IAAkB,CAACD,KAAK,CAACE,gBAA1B,IACH,CAACF,KAAK,CAACC,QAAP,IAAmBD,KAAK,CAACE,gBAF1B,EAGE;MACEC,OAAO,CAACC,IAAR,CACI,oCACJ,4DAFA;IAIH;;IACD,IACKJ,KAAK,CAACK,UAAN,IAAoB,CAACL,KAAK,CAACM,kBAA5B,IACH,CAACN,KAAK,CAACK,UAAP,IAAqBL,KAAK,CAACM,kBAF5B,EAGE;MACEH,OAAO,CAACC,IAAR,CACI,oCACJ,gEAFA;IAIH;;IACD,IAAIJ,KAAK,CAACO,YAAN,IAAsBP,KAAK,CAACQ,WAAN,KAAsBC,SAAhD,EAA2D;MACvDN,OAAO,CAACC,IAAR,CACI,oCACJ,2EAFA;IAIH;EACJ;;EAEDM,oBAAoB,GAAI;IACpB,MAAM;MAAEC;IAAF,IAAe,KAAKX,KAA1B;IACA,OAAOJ,MAAM,IAAI,CAACF,MAAX,IAAqB,CAACiB,QAA7B;EACH;;EAEkB,IAAfC,eAAe,GAAI;IACnB,MAAM;MAAEC,cAAF;MAAkBC;IAAlB,IAAiC,KAAKd,KAA5C;IACA,OAAO,KAAKU,oBAAL,KACHI,UAAU,GAAGD,cAAb,GAA8B,CAD3B,GAEHA,cAFJ;EAGH;;EAEO,IAAJE,IAAI,GAAI;IACR,MAAM;MACFC,aADE;MAEFR,WAFE;MAGFM,UAHE;MAIFb,QAJE;MAKFgB,iBALE;MAMFZ,UANE;MAOFa,QAPE;MAQFhB,gBARE;MASFI,kBATE;MAUFa,kBAVE;MAWFC,gBAXE;MAYFC,gBAZE;MAaFC,UAbE;MAcFf,YAdE;MAeFgB,gBAfE;MAgBFC,gBAhBE;MAiBFC,eAjBE;MAkBFC;IAlBE,IAmBF,KAAK1B,KAnBT;;IAqBA,IAAIsB,UAAJ,EAAgB;MACZ,OAAOA,UAAU,CAAC,KAAKV,eAAN,EAAuBE,UAAvB,EAAmC,IAAnC,CAAjB;IACH;;IAED,MAAMa,UAAU,gBACZ,oBAAC,aAAD;MACE,WAAW,EAAEnB,WADf;MAEE,QAAQ,EAAED,YAAY,IAAI,OAAOC,WAAP,KAAuB,WAFnD;MAGE,aAAa,EAAEQ,aAHjB;MAIE,KAAK,EAAEf,QAJT;MAKE,cAAc,EAAEgB,iBALlB;MAME,KAAK,EAAEC,QANT;MAOE,aAAa,EAAEhB,gBAPjB;MAQE,eAAe,EAAEiB,kBARnB;MASE,aAAa,EAAEC,gBATjB;MAUE,aAAa,EAAEC,gBAVjB;MAWE,gBAAgB,EAAEE,gBAXpB;MAYE,gBAAgB,EAAEC,gBAZpB;MAaE,eAAe,EAAEC,eAbnB;MAcE,eAAe,EAAEC;IAdnB,EADJ;IAmBA,MAAMX,IAAI,GAAGa,KAAK,CAACC,IAAN,CAAW;MAAEC,MAAM,EAAEhB;IAAV,CAAX,EAAmC,CAACiB,CAAD,EAAIC,CAAJ,KAAUA,CAA7C,EAAgDC,GAAhD,CAAqDD,CAAD,IAAO;MACpE,MAAME,QAAQ,GAAGF,CAAC,KAAK,KAAKpB,eAA5B;MACA,oBAAOzB,KAAK,CAACgD,YAAN,CACH,CAACD,QAAQ,GAAG7B,UAAH,GAAgBC,kBAAzB,KAAgDqB,UAD7C,EAEH;QACIS,GAAG,EAAG,kBAAiBJ,CAAE,EAD7B;QAEIK,MAAM,EAAEH,QAFZ;QAGII,KAAK,EAAEN;MAHX,CAFG,CAAP;IAQH,CAVY,CAAb;IAYA,OAAOjB,IAAP;EACH;;EAEDwB,MAAM,GAAI;IACN,MAAM;MACFzB,UADE;MAEF0B,cAFE;MAGF7B,QAHE;MAIF8B;IAJE,IAKF,KAAKzC,KALT;;IAOA,IAAI,CAACc,UAAD,IAAeA,UAAU,GAAG,CAAhC,EAAmC;MAC/B,OAAO,KAAP;IACH;;IAED,MAAM4B,KAAK,GAAG,CACVjD,MAAM,CAACkD,gBADG,EAEV;MACIC,aAAa,EAAEjC,QAAQ,GAClB,QADkB,GAEnB,KAAKD,oBAAL,KACK,aADL,GAEK;IALb,CAFU,EASV8B,cAAc,IAAI,EATR,CAAd;IAYA,oBACI,oBAAC,IAAD;MACE,aAAa,EAAC,UADhB;MAEE,KAAK,EAAEE,KAFT;MAGE,UAAU,EAAE,CAAC,CAACD,kBAHhB;MAIE,kBAAkB,EAAEA;IAJtB,GAMK,KAAK1B,IANV,CADJ;EAUH;;AApJkF;;gBAAhEjB,U,kBACG;EAClBqB,kBAAkB,EAAE,GADF;EAElBC,gBAAgB,EAAE,GAFA;EAGlBb,YAAY,EAAE,KAHI;EAIlBI,QAAQ,EAAE,KAJQ;EAKlBY,gBAAgB,EAAE,GALA;EAMlBC,gBAAgB,EAAE,CANA;EAOlBC,eAAe,EAAE,EAPC;EAQlBC,eAAe,EAAE;AARC,C"}